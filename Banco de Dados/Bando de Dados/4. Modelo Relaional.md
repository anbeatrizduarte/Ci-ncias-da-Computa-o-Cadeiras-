
#### Sobre

O modelo relacional foi proposto por Edgar F. Codd em 1970 como uma forma de representar dados em bancos de dados usando relações. Ou seja, é um modelo de dados que representa um banco de dados como uma coleção de relações.

O modelo relacional organiza os dados em tabelas (relações) formadas por linhas (tuplas) e colunas (atributos).

Vantagens do modelo relacional:
- Simplicidade
- Flexibilidade
- Integridade
- Independência de dados

##### Glossário

| Termo Relacional   | Nome em Banco de Dados                       |
| ------------------ | -------------------------------------------- |
| Relação            | Tabela                                       |
| Tupla              | Linha (registro)                             |
| Atributo           | Coluna (campo)                               |
| Domínio            | Conjunto de valores válidos para um atributo |
| Esquema da relação | Estrutura da tabela                          |

Um exemplo prático de um modelo relacional, relação `Aluno`, seria:

| Matrícula | Nome           | Curso                  |
| --------- | -------------- | ---------------------- |
| 1001      | Maria Oliveira | Ciência da Computação  |
| 1002      | João Pereira   | Sistemas de Informação |
| 1003      | Ana Souza      | Ciência da Computação  |
- Relação: `Aluno`
- Tupla: cada linha (ex.: `1001`, `Maria Oliveira`, `Ciência da Computação`)
- Atributos: `Matrícula`, `Nome`, `Curso`
- Domínio de Curso: Ciência da Computação, Sistemas de Informação, etc.

___

#### Conceitos importantes do modelo relacional

- Um esquema de tabela T($A_1$, $A_2$, ..., $A_n$) é composto de uma tabela de nome T e da lista de campos $A_1$, $A_2$, ..., $A_n$.
- Cada campo $A_i$ é o nome do papel desempenhado por um domínio D no esquema de tabela T.
- O grau de uma tabela (relação) é o número $n$ de atributos do esquema de tabela que a define.

Exemplo:

> FUNCIONARIO (**ident**: int, **nome:** string, **endereço**: string, **salário:** real; **dt_nasc:** date)

Essa relação tem grau 5.


- Uma relação/tabela (ou estado de uma tabela) t, definida sob o esquema T($A_1$, $A_2$, ..., $A_n$), é um conjunto de m-registros t = {$r_1$, $r_2$, ..., $r_n$}.

- Cada m-registro é uma lista ordenada de $n$ valores r = <$v_1$, $v_2$, ..., $v_n$>.
- O i-ésimo valor do registro r, o qual corresponde ao campo $A_i$, é referenciado como r.$A_i$.

---

#### Registro

Um registro é uma lista ordenada de valores, então a ordem dos valores no registro é importante. Para efeitos práticos, e em determinadas situações, essa restrição pode ser flexibilizada.

___

#### Valores atômicos e nulos

Cada valor em um registro é um valor atômico. Assim, atributos compostos e atributos multivalorados **não são permitidos**.

Valores NULL são usados para representar os valores desconhecidos ou que não se aplicam àquele atributo naquele registro.

___

#### Chaves no modelo Relacional

Em geral, uma tabela T pode ter mais de uma chave. Cada uma delas é chamada de **chave candidata**.

É comum escolher uma das chaves candidatas para ser a **chave primária (PK)** da relação. Cada uma das demais chaves candidatas é chamada de **chave única**.


##### Chave primária (Primary Key)

É usada quando um ou mais atributos que identificam unicamente uma tupla (linha). Ela não pode ser nula (`NOT NULL`) nem duplicada.

Como exemplo, temos:

- Na tabela `Aluno`, o atributo `Matrícula` é a chave primária.

```sql
CREATE TABLE ALUNO (
	Matrícula INT PRIMARY KEY,
	Nome VARCHAR(100)
	Curso VARCHAR(100)
);
```


##### Chave Estrangeira (Foreign Key)

É usada quando o atributo referencia a chave primária de outra tabela. Também é usada para garantir a integridade referencial.

Como exemplo, temos:

- Na relação entre `Aluno` e `Matrícula`:

```sql
CREATE TABLE Matricula (
	Matrícula INT,
	CodigoDisciplina VARCHAR(10),
	Ano INT,
	FOREIGN KEY (Matrícula) REFERENCES Aluno(Matrícula)
);
```

___

#### Restrição de integridade

- **Restrição de integridade de entidade:** o valor de uma chave primária **não** pode ser NULL. Ou seja, toda tupla deve ter uma chave primário não nula e única.

- **Restrição de integridade referencial:** é especificada entre duas tabelas e usadas para manter a consistência entre os seus registro. Ou seja, garante que uma chave estrangeira aponte para uma tupla existente na outra tabela.

