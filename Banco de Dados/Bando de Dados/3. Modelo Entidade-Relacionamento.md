
#### Sobre

É um abstração conceitual usada para modelar os dados de um sistema antes de implementá-los em um banco de dados. Foi proposto por Peter Chen em 1976.

As finalidades são:
- Mapear as regras de negócio
- Planejar a estrutura de um bando de dados
- Comunicar entre desenvolvedores, analistas e clientes

Os principais elementos desse tipo de modelo são:
- Entidades
- Atributos
- Chaves
- Relacionamentos
- Cordinalidades

___

#### Entidade

Uma entidade representa um objeto do mundo real que possui existência independente no contexto o sistema. Uma entidade pode representar objetos concretos ou abstratos.

Um exemplo de entidade, no contexto de universidade, seria: `Aluno`, `Professor`, `Disciplina`.

As entidades podem ser divididas em dois tipos:
- Entidade forte: casos no mundo real com existência independente
- Entidade fraca: se a existência só faz sentido quando está relacionada à outra entidade

As entidades podem ser representadas por **retângulos**.

<img src = "../Imagens/Tipos de entidade.png" width ="150" >

Em um modelo ER, propriedades são especificadas através de relacionamentos, atributos e generalizações(especializações).

___

#### Atributos

Um atributo representa uma característica ou propriedade de uma entidade. Ou seja, é a propriedade que descreve uma entidade.

Um exemplo de atributo, ainda no contexto de universidade, seria: para a entidade `Aluno`, temos `nome, DataNascimento, Curso`.

Os atributos também podem ser divididos em tipos, tais como:

- Simples: não pode ser dividido. Ex.: `Nome`
- Composto: pode ser dividido. Ex.: `Endereço` (rua, número, cidade)
- Multivalorado: pode ter vários valores. Ex.: `Telefones`
- Derivado: calculado a partir de outro. Ex.: `Idade` (a partir de `DataNascimento`)

Os atributos podem ser representados por **bolinhas** ou **elipses.**

<img src = "../Imagens/Atributos.png" width ="300" >


___

#### Esquema e Instância

**Esquema** é um tipo entidade que define uma coleção, ou conjunto de entidades que têm os mesmos atributos.

Já a **Instância** é a coleção de todas as entidades de um tipo entidade também chamada de conjunto entidade.

___

#### Chave Primária

Também chamada de Identificador, é o atributo (ou conjunto de atributos) que identifica unicamente uma ocorrência da entidade. Ou seja, é um atributo chave que o valor diferencia cada entidade.

Um exemplo, no contexto universidade, seria: a `Matrícula do Aluno` ou `CPF do Professor`.

A chave primária pode ser representada pelo **sublinhado** ou pelo **bolinha pintada**.

<img src = "../Imagens/Chaves primárias.png" width ="350" >


___

#### Relacionamento

Um relacionamento representa uma associação entre duas ou mais entidades. Ou seja, é o conjunto de associações entre entidades sobre as quais deseja-se manter informações na base de dados.

Um exemplo, no contexto de universidade, seria: `Aluno` matricula-se em `Disciplina`.

Os relacionamentos também podem ser divididos em tipos:

- Binário: entre duas entidades. Ex.: `Aluno` --- `Disciplina`
- Ternário: entre três entidades. Ex.: `Médico` --- `Paciente` --- `Consulta`

Nele também podemos definir o grau, ou seja, determinar quantas entidades participam do relacionamento.

Outro tipo seria o **recursivo**, que ocorre quando um mesmo tipo entidade participa mais de uma vez do tipo relacionamento, assumindo papéis diferentes.

___

#### Cardinalidade

A cardinalidade define o número de ocorrências de uma entidade que podem estar associadas a outra.

Os tipos podem ser:

- 1:1 (um para um):
	Ex.: Pessoa --- Carteira de Motorista

- 1:N (um para muitos):
	Ex.: Professor --- Disciplina

- N:1 (muitos para um):
	Ex.: Funcionários --- Departamento

- M:N (muitos para muitos):
	Ex.: Aluno --- Disciplina


Existem também as restrições min-max, que definem a quantidade mínima e máxima de vezes que uma entidade pode ou deve participar em um relacionamento. Elas são usadas para garantir a integridade dos dados e modelar regras reais do domínio.

| Restrição | Significado prático                                                          |
| --------- | ---------------------------------------------------------------------------- |
| min = 0   | Participação **opcional** — a entidade pode não participar do relacionamento |
| min ≥ 1   | Participação **total** — a entidade deve participar pelo menos uma vez       |
| max ≥ 1   | Número máximo de ocorrências permitidas no relacionamento                    |
|           |                                                                              |

___

#### Restrição de participação

A restrição de participação indica se a participação de uma entidade em um relacionamento é obrigatório ou opcional. Ela define se todas as instâncias (ocorrências) da entidade precisam estar relacionadas através daquele relacionamento.

Tipos de restrição de participação:

- Participação Total: todas as instâncias da entidade devem participar do relacionamento.
	Ex.: todo `Aluno` deve estar matriculado em pelo menos um `Curso`
	Representado no diagrama por uma linha dupla

- Participação Parcial: nem todas as instâncias precisam participar do relacionamento.
	E.: um `Professor` pode ou não estar associado a algum `Projeto`
	Representado no diagrama por uma linha simples

###### Diferença entre participação e cardinalidade

- **Participação** responde: _Toda entidade deve participar do relacionamento?_ (Sim ou Não)
    
- **Cardinalidade** responde: _Quantas vezes uma entidade pode participar?_ (mínimo e máximo)

___

#### Generalização, Especialização e Herança

**Generalização** é o processo de abstrair entidades similares para formar uma entidade mais genérica.

Por exemplo: 
- `Carro` e `Moto` podem ser generalizados como `Veículo`


**Especialização** é o processo inverso da generalização, onde o objetivo é criar subentidades a partir de uma entidade genérica.

Tipos de especialização:
- Disjunção (mutuamente exclusiva): 
	As subclasses são mutuamente exclusivas, ou seja, um objeto da superclasse só pode pertencer a uma única subclasse. Geralmente é representada pela letra **d** dentro do símbolo da especialização.
	
	Ex.: Um funcionário só pode ser Gerente ou Analista ou Técnico, nunca mais de uma dessas cargos ao mesmo tempo. 

- Sobreposição (não exclusiva):
	As subclasses podem se sobrepor, ou seja, um objeto da superclasse pode pertencer a duas ou mais subclasses simultaneamente. Geralmente é representada pela letra **a** dentro do símbolo da especialização
	
	Ex.: Um funcionário pode ser Gerente e também exercer a função de Técnico ao mesmo tempo (em áreas diferentes)


Por exemplo: 
- `Pessoa` pode ser especializada em `Aluno` e `Professor`


**Herança** é quando a subentidade herda atributos e relacionamentos da superentidade.

___

#### Diagrama ER (DER)

O diagrama ER é a representação gráfica do modelo. Conforme citado anteriormente, é mostrado as entidades, atributos, relacionamentos e cardinalidades.


| Notação         | Significado                                    |
| --------------- | ---------------------------------------------- |
| Retângulo       | Entidade                                       |
| Retângulo duplo | Entidade fraca                                 |
| Elipse          | Atributo                                       |
| Losango         | Relacionamento                                 |
| Chave primária  | Sublinhada                                     |
| Multivalorado   | Elipse dupla                                   |
| Linhas          | Conectam entidades e atributos/relacionamentos |

___

#### Tabela de Resumo

| Conceito       | Exemplo                            |
| -------------- | ---------------------------------- |
| Entidade       | `Aluno`, `Disciplina`              |
| Atributo       | `Nome`, `DataNascimento`           |
| Chave Primária | `RA`, `Código`                     |
| Relacionamento | `Aluno` —[MATRICULA]→ `Disciplina` |
| Cardinalidade  | 1:N, N:M, etc.                     |
| Entidade Fraca | `Dependente`                       |
| Especialização | `Pessoa` → `Aluno` / `Professor`   |
